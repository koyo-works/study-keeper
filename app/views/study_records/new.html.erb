<div id="dashboard-app">
  <p>ä»Šæ—¥ã®è¨˜éŒ²ï¼ˆä»®ï¼‰</p>
</div>


<div style="text-align: center; margin-bottom: 2rem;">
  <h1 style="font-size: 36px; font-weight: 700; color: #667eea; margin-bottom: 8px;">
    ğŸ“ è¡Œå‹•è¨˜éŒ²
  </h1>
  <p style="color: #6B7280; font-size: 16px;">
    ä»Šå–ã‚Šçµ„ã‚“ã§ã„ã‚‹ã“ã¨ã‚’é¸æŠã—ã¦ãã ã•ã„
  </p>
</div>

<%= form_with model: @record, url: learning_path, local: true do |f| %>

  <div class="activities">
    <% @activities.each do |activity| %>
      <label class="activity-card">
        <%= f.radio_button :activity_id, activity.id, class: "activity-radio" %>
        <div class="card-content">
          <div class="icon"><%= activity.icon %></div>
          <div class="name"><%= activity.name %></div>
        </div>
      </label>
    <% end %>
  </div>

  <div class="record-form">
    <div class="memo-area">
      <%= f.text_area :memo, rows: 3, placeholder: "ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰" %>
    </div>

    <%= f.submit "è¨˜éŒ²ã™ã‚‹", class: "btn btn-primary submit-btn" %>
  </div>
<% end %>

<div style="text-align: center; margin-top: 2rem;">
  <%= link_to analytics_records_path, 
      style: "display: inline-block;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: white;
              padding: 14px 28px;
              border-radius: 12px;
              text-decoration: none;
              font-weight: 700;
              font-size: 16px;
              box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
              transition: all 0.3s ease;",
      onmouseover: "this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(102, 126, 234, 0.4)';",
      onmouseout: "this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.3)';" do %>
    ğŸ“Š è¨˜éŒ²ã‚µãƒãƒªãƒ¼ã‚’è¦‹ã‚‹
  <% end %>
</div>

<script>
document.querySelectorAll('.activity-radio').forEach(radio => {
  radio.addEventListener('click', function() {
    if (this.wasChecked) {
      this.checked = false; // åŒã˜ãƒ©ã‚¸ã‚ªã‚’ã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰è§£é™¤
    }
    this.wasChecked = this.checked;
  });
});
</script>